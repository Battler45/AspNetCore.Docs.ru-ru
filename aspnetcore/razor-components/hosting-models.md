---
title: Компоненты Razor, размещения моделей
author: guardrex
description: Сведения о Blazor на стороне клиента и сервера ASP.NET Core Razor компоненты на стороне размещения моделей.
monikerRange: '>= aspnetcore-3.0'
ms.author: riande
ms.custom: mvc
ms.date: 03/28/2019
uid: razor-components/hosting-models
ms.openlocfilehash: 8ed70117c94bf1a3e4c208f70310bbf0473bae44
ms.sourcegitcommit: 6bde1fdf686326c080a7518a6725e56e56d8886e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/08/2019
ms.locfileid: "59515648"
---
# <a name="razor-components-hosting-models"></a>Компоненты Razor, размещения моделей

По [Дэниэл рот](https://github.com/danroth27)

Компоненты Razor — это веб-платформа, предназначен для запуска на стороне клиента в браузере на [WebAssembly](http://webassembly.org/)-на основе среды выполнения .NET (*Blazor*) или на сервере в ASP.NET Core (*ASP.NET Core Razor Компоненты*). Независимо от модели размещения модель, приложения и компонента *остаются теми же*. В этой статье рассматриваются доступные модели размещения.

* [Компоненты Blazor на стороне клиента](#client-side-hosting-model)
* [Компоненты ASP.NET Core Razor на стороне сервера](#server-side-hosting-model)

## <a name="client-side-hosting-model"></a>Модель размещения на стороне клиента

[!INCLUDE[](~/includes/razor-components-preview-notice.md)]

Основной модели размещения для Blazor — выполнение стороне клиента в браузере на WebAssembly. Приложение Blazor, его зависимости и среда выполнения .NET скачиваются в браузере. Приложение выполняется непосредственно в потоке пользовательского интерфейса браузера. Обновление элементов пользовательского интерфейса и обработка событий происходит в одном процессе. Ресурсы приложения развертываются как статические файлы веб-сервере или службе, может обслуживать статическое содержимое клиентам.

![Blazor со стороны клиента: Blazor приложение выполняется в потоке пользовательского интерфейса в браузере.](hosting-models/_static/client-side.png)

Чтобы создать приложение Blazor, используя модель размещения на стороне клиента, используйте одно из следующих шаблонов:

* **Blazor** ([dotnet новый blazor](/dotnet/core/tools/dotnet-new)) &ndash; развернут как набор статических файлов.
* **(ASP.NET Core с размещением) Blazor** ([dotnet новый blazorhosted](/dotnet/core/tools/dotnet-new)) &ndash; размещаемая сервером ASP.NET Core. Приложение ASP.NET Core обслуживает Blazor приложения клиентам. Blazor клиентского приложения можно взаимодействовать с сервером по сети с помощью вызовов веб-API или [SignalR](xref:signalr/introduction).

Шаблоны содержат *components.webassembly.js* сценария, обрабатывающего:

* Загрузка среды выполнения .NET, приложения и зависимости приложения.
* Инициализация среды выполнения для запуска приложения.

Модель размещения клиентского обладает рядом преимуществ. Blazor на стороне клиента:

* Имеет не зависят от .NET на стороне сервера.
* Полностью использует ресурсы клиента и функции.
* Разгрузка работать с сервера клиенту.
* Поддерживает сценарии автономной работы.

Есть и недостатки, касающиеся размещения на стороне клиента. Blazor на стороне клиента:

* Ограничивает его возможности браузера.
* Требуется клиент с поддержкой оборудования и программного обеспечения (например, WebAssembly поддержка).
* Имеет больший размер загрузки и больше приложений время загрузки.
* В меньшей даже сложные среды выполнения .NET и поддержка средств (например, ограничения в [.NET Standard](/dotnet/standard/net-standard) поддержки и отладки).

## <a name="server-side-hosting-model"></a>Модель размещения на сервере

С помощью модели размещения ASP.NET Core Razor компонентов на сервере приложение выполняется на сервере в приложение ASP.NET Core. Обновление элементов пользовательского интерфейса, обработка событий и вызовы JavaScript обрабатываются через [SignalR](xref:signalr/introduction) подключения.

![ASP.NET Core Razor компонентов на сервере: Браузер взаимодействует с приложением (размещенный внутри приложения ASP.NET Core) на сервере подключения SignalR.](hosting-models/_static/server-side.png)

Чтобы создать приложение Razor компоненты, используя модель размещения на сервере, используйте ASP.NET Core **компоненты Razor** шаблона ([новый razorcomponents dotnet](/dotnet/core/tools/dotnet-new)). Приложение ASP.NET Core размещено приложение на сервере компонентов Razor и задает конечную точку SignalR, где клиенты подключаются. Приложение ASP.NET Core ссылается на приложения `Startup` добавляемый класс:

* Службы компонентов Razor на стороне сервера.
* Приложение, чтобы конвейер обработки запросов.

[!code-csharp[](hosting-models/samples_snapshot/Startup.cs?highlight=5,27)]

*Components.server.js* скрипт&dagger; устанавливает соединение с клиентом. Это приложение отвечает за сохранение и восстановление состояние приложения при необходимости (например, в случае потери сетевого подключения).

Модель размещения на сервере обладает рядом преимуществ. Компоненты Razor на стороне сервера:

* Имеют значительно меньший размер приложения, чем Blazor приложения на стороне клиента и загружаются гораздо быстрее.
* Можно использовать все возможности сервера, включая использование любого совместимых API .NET Core.
* Выполняются в .NET Core на сервере, поэтому существующие .NET, оборудование, например, отладка, работает правильно.
* Работает с тонкие клиенты (например, браузеры, которые не поддерживают WebAssembly и ресурсов ограничение устройств).
* .NET /C# базы кода, включая кода компонента приложения, не предоставлен клиентам.

Есть и недостатки, касающиеся размещения на сервере. Компоненты Razor на стороне сервера:

* Имеют большее время задержки: Любое действие пользователя прыжок сети.
* Предложения не поддержку автономной работы: В случае сбоя подключения клиента, приложение перестает работать.
* Снижена масштабируемости: Сервер управления подключениями нескольких клиентов и обработки состояния клиента.
* Требуется ASP.NET Core-сервер для обслуживания приложения. Развертывание без сервера (например, из сети доставки Содержимого) невозможно.

&dagger;*Components.server.js* скрипт публикуется по следующему пути: *bin / {Отладка | Выпуск} / {ЦЕЛЕВОЙ ПЛАТФОРМЫ} /publish/ {имя_приложения}. Приложения/dist/_платформа*.
