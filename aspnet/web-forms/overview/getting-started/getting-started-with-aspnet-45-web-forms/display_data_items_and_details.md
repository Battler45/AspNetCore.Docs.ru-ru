---
uid: web-forms/overview/getting-started/getting-started-with-aspnet-45-web-forms/display_data_items_and_details
title: Отображение элементов данных и сведений | Документация Майкрософт
author: Erikre
description: В этой серии руководств будет основы построения для веб-приложения веб-форм ASP.NET с помощью ASP.NET 4.7 и Microsoft Visual Studio Community 2017
ms.author: riande
ms.date: 1/09/2019
ms.assetid: 64a491a8-0ed6-4c2f-9c1c-412962eb6006
msc.legacyurl: /web-forms/overview/getting-started/getting-started-with-aspnet-45-web-forms/display_data_items_and_details
msc.type: authoredcontent
ms.openlocfilehash: 73ae1660f5d6e3e28c1c155e745a62936e3502df
ms.sourcegitcommit: cec77d5ad8a0cedb1ecbec32834111492afd0cd2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/10/2019
ms.locfileid: "54207438"
---
<a name="display-data-items-and-details"></a>Отображаемые элементы данных и сведения
====================
по [Erik Reitan](https://github.com/Erikre)

> В этой серии руководств представлены основы построения для веб-приложения веб-форм ASP.NET с помощью ASP.NET 4.7 и Microsoft Visual Studio Community 2017.

В этом руководстве вы узнаете, как отобразить элементы данных и сведений об элементе данных с помощью веб-форм ASP.NET и Entity Framework Code First. Этот учебник основан на предыдущем учебном курсе «И навигация по пользовательскому Интерфейсу» как часть этой серии руководств Store Toy Wingtip. В этом руководстве завершенных продуктов на *ProductsList.aspx* страницы и сведения о продукте на *ProductDetails.aspx* отображаются страницы.

## <a name="what-you-learn"></a>Вы узнаете

- Добавьте элемент управления данные для отображения продуктов базы данных.
- Подключения элемента управления данными для выбранных данных.
- Добавьте элемент управления данные для отображения сведений о продукте.
- Синтаксический анализ значения строки запроса и использовать его для фильтрации извлеченных данных базы данных.

Функции, представленных в этом руководстве включают привязки модели и поставщики значений.

## <a name="add-a-data-control-to-display-products"></a>Добавьте элемент управления данные для отображения продуктов
 
У вас есть несколько вариантов для привязки данных к серверному элементу управления. Наиболее распространенные включают:

 * Добавление элемента управления источника данных
 * Добавление кода вручную
 * Реализация привязки модели

### <a name="use-a-data-source-control-to-bind-data"></a>Используйте элемент управления источником данных для привязки данных

Добавление элемента управления источника данных связывает элемент управления источником данных элемент управления, который отображает данные. При таком подходе вы можно декларативно, а не программным образом, подключение серверных элементов управления к источникам данных.

### <a name="code-by-hand-to-bind-data"></a>Код вручную, для привязки данных

Кодировании вручную включает в себя:

1. Считывая значение
2. Проверяется, является ли значение null
3. Преобразование его в соответствующий тип
4. Проверка успешного преобразования
5. Что делает запрос с преобразованное значение 

В этом случае у вас есть полный контроль над логику доступа к данным.

### <a name="use-model-binding-to-bind-data"></a>Использование привязки модели для привязки данных

С помощью привязки модели, привязать результаты гораздо меньше кода, и дает возможность повторно использовать функциональные возможности в приложении. Она упрощает работу с логики доступа к данным на ориентированный на код по-прежнему предоставляя это богатый инфраструктура привязки данных.

## <a name="display-products"></a>Отобразить продукты

В этом руководстве используется привязка модели для привязки данных. Чтобы настроить элемент управления данные для использования привязки модели для выбора данных, значение элемента управления `SelectMethod` свойство к методу в коде страницы. Элемент управления данными вызывает метод в соответствующее время жизненного цикла страницы и автоматически связывает возвращаемых данных. Нет необходимости явно вызвать `DataBind` метод.

Работа следующие этапы внесения изменений в *ProductList.aspx* разметку для отображения продуктов.

1. В **обозревателе решений**откройте *ProductList.aspx*.

2. Замените существующую разметку следующей разметкой: 

    [!code-aspx-csharp[Main](display_data_items_and_details/samples/sample1.aspx)]

Предыдущая разметка использует **ListView** управления с именем `productList` для отображения продуктов.

[!code-aspx-csharp[Main](display_data_items_and_details/samples/sample2.aspx)]

С помощью шаблонов и стилей, можно определить как **ListView** отображаются в элементе управления. Это полезно для данных в любой повторяющейся структуре. Хотя это **ListView** примере просто отображает базы данных, кроме того, можно без кода, позволяют пользователям для редактирования, вставки и удаления данных и отсортировать и данные страницы.

При задании `ItemType` свойства в **ListView** управления, выражение привязки данных `Item` доступна и элемент управления становится строго типизированными. Как упоминалось в предыдущем учебном курсе, можно выбрать сведения об элементе объекта с поддержкой технологии IntelliSense, например, указать `ProductName`:

![Отображение данных элементов и сведения о — IntelliSense](display_data_items_and_details/_static/image1.png)

С помощью привязки модели, при указании `SelectMethod` значение (`GetProducts`). Это метод, добавьте в код запаздывает, для отображения продуктов на следующем шаге.

### <a name="add-code-to-display-products"></a>Добавьте код для отображения продуктов

На этом шаге, добавьте код для заполнения **ListView** элемента управления данными продукта базы данных. Этот код поддерживает отображаются все продукты и отдельной категории продуктов.

1. В **обозревателе решений**, щелкните правой кнопкой мыши *ProductList.aspx* , а затем выберите **Просмотр кода**.
2. Замените существующий код в *ProductList.aspx.cs* файл с этим:   

    [!code-csharp[Main](display_data_items_and_details/samples/sample3.cs)]

В следующем коде показано `GetProducts` метод, **ListView** элемента управления `ItemType` ссылается на свойство в *ProductList.aspx*. Чтобы ограничить результаты для конкретной базы данных категории, код задает `categoryId` значение из строки запроса, передаваемые *ProductList.aspx*. `QueryStringAttribute` В класс `System.Web.ModelBinding` пространства имен используется для получения переменной строки запроса `id`от значения. Это указывает, что привязка модели, во время выполнения, привязать значения строки запроса для `categoryId` параметра.

Когда допустимую категорию (`categoryId`) будет передан, результаты ограничены продукты этой категории баз данных. Например если *ProductsList.aspx* это URL-адрес страницы:

[!code-console[Main](display_data_items_and_details/samples/sample4.cmd)]

На странице отображаются только те продукты, где `categoryId` равно `1`.

Все продукты отображаются в том случае, если передается строка запроса отсутствует.

Источники значений для этих методов вызываются *значение поставщики* (такие как `QueryString`), и вызываются атрибуты параметров, которые указывают, какой поставщик значений для использования *значение атрибуты поставщика* () Например, `id`). ASP.NET включает в себя поставщики значений и атрибутов для всех типичных веб-форм приложения пользователя источников входных данных. К ним относятся строки запроса, файлы cookie, значения формы, элементы управления, состояние представления, состояние сеанса и свойства профиля. Можно также написать пользовательские поставщики значений.

### <a name="run-the-application"></a>Запуск приложения

Запустите приложение и просмотреть все продукты или категории продуктов.

1. В Visual Studio нажмите клавишу **F5** для запуска приложения.
 Откроется браузер и показывает *Default.aspx* страницы.

2. Выберите пункт категории продукта, **автомобили**.

   *ProductList.aspx* отображается страница, показывающая только продукты из **автомобили** категории. Далее в этом руководстве отображения сведений о продукте.

    ![Отображение данных элементов и сведения о — автомобили](display_data_items_and_details/_static/image2.png)

3. Выберите **продуктов** в верхнем меню.
 *ProductList.aspx* страницы теперь отображаются все продукты. 

    ![Отображение данных элементов и сведения о — продуктов](display_data_items_and_details/_static/image3.png)

4. Закройте браузер и вернуться в Visual Studio.

### <a name="add-a-data-control-to-display-product-details"></a>Добавьте элемент управления данные для отображения сведений о продукте

Изменить *ProductDetails.aspx* разметки, добавленный в предыдущем руководстве, чтобы отобразить сведения о конкретных продуктах:

1. В **обозревателе решений**откройте *ProductDetails.aspx*.

2. Замените существующую разметку с этой разметкой:

    [!code-aspx-csharp[Main](display_data_items_and_details/samples/sample5.aspx)] 

Эта разметка использует **FormView** управления для отображения сведений определенного продукта. Он использует методы, например тех, которые используются для отображения данных в *ProductList.aspx*. **FormView** элемент управления используется для отображения одной записи за раз из источника данных. При использовании **FormView** элемента управления, создавать шаблоны для отображения и редактирования значений с привязкой к данным. Эти шаблоны содержат элементы управления, выражения, привязки и форматирование, которое определить вид и функциональные возможности формы.

Предыдущей разметки для подключения к базе данных требуется дополнительный код.

1. В **обозревателе решений**, щелкните правой кнопкой мыши *ProductDetails.aspx* , а затем выберите **Просмотр кода**.  
   *ProductDetails.aspx.cs* отобразится файл.

2. Замените существующий код следующим:   

    [!code-csharp[Main](display_data_items_and_details/samples/sample6.cs)]

Этот код проверяет наличие "`productID`" значения строки запроса. При обнаружении допустимое значение, отображается соответствующий продукт. Если не найдено в строке запроса или его значение является недопустимым, программы не отображается.

### <a name="run-the-application"></a>Запуск приложения

Теперь вы можете запустить приложение, чтобы просмотреть сведения о определенного продукта на основе идентификатора продукта.

1. В Visual Studio нажмите клавишу **F5** для запуска приложения.  
 В браузере откроется *Default.aspx*.

2. В меню «Категория» выберите **лодок**.  
 *ProductList.aspx* откроется страница.

3. Выберите **бумаги яхту**.  
 *ProductDetails.aspx* откроется страница.   

    ![Отображение данных элементов и сведения о — продуктов](display_data_items_and_details/_static/image4.png)

В следующем учебном курсе добавьте корзины для покупок в приложение Wingtip Toys.

## <a name="additional-resources"></a>Дополнительные ресурсы

[Извлечение и отображение данных с помощью привязки модели и веб-форм](../../presenting-and-managing-data/model-binding/retrieving-data.md)

> [!div class="step-by-step"]
> [Назад](ui_and_navigation.md)
> [Вперед](shopping-cart.md)
